<main>
    <section>
        <div class="content">
            <mat-stepper orientation="vertical" animationDuration="420" [linear]="!true" scrollStepperFix>
                <mat-step label="Dados Pessoais" [stepControl]="step1" state="account" errorMessage="Revise essa etapa">
                    <app-step1 [form]="step1" />        
                    <div class="row-flex">
                        <button 
                            class="btn btn-lg rounded-lg"
                            color="purple"
                            [disabled]="!step1.valid"
                            matStepperNext
                            matRipple
                        >PRÓXIMO</button>
                    </div>
                </mat-step>
                <mat-step [stepControl]="step2" label="Contato" state="contact" errorMessage="Revise essa etapa">
                    <form [formGroup]="step2">
                        <app-step2 [form]="step2"></app-step2>
                        <div class="row-flex">
                            <button 
                                class="btn btn-lg rounded-lg"
                                color="dark"
                                matStepperPrevious
                                matRipple
                            >ANTERIOR</button>
                            <button 
                                class="btn btn-lg rounded-lg"
                                color="purple"
                                [disabled]="!step2.valid"
                                matStepperNext
                                matRipple
                            >PRÓXIMO</button>
                        </div>
                    </form>
                </mat-step>
                <mat-step label="Filiação" [stepControl]="step3" state="group-add" errorMessage="Revise essa etapa">
                    <form [formGroup]="step3">
                        <app-step3 [form]="step3" />
                        <div class="row-flex">
                            <button 
                                class="btn btn-lg rounded-lg"
                                color="dark"                
                                matStepperPrevious
                                matRipple
                            >ANTERIOR</button>
                            <button 
                                class="btn btn-lg rounded-lg"
                                color="purple"     
                                [disabled]="!step3.valid"
                                matStepperNext
                                matRipple
                            >PRÓXIMO</button>
                        </div>
                    </form>
                </mat-step>
                <mat-step label="Imagens" [stepControl]="step4" state="add-image" errorMessage="Revise essa etapa">
                    <app-step4 [form]="step4" />
                    <div class="row-flex">
                        <button 
                            class="btn btn-lg rounded-lg"
                            color="dark"         
                            matStepperPrevious
                            matRipple
                        >ANTERIOR</button>
                        <button 
                            class="btn btn-lg rounded-lg"
                            color="purple"            
                            matStepperNext
                            [disabled]="!step4.valid"
                            matRipple
                        >PRÓXIMO</button>
                    </div>
                </mat-step>
                <mat-step label="Confirmar" state="done">
                    <div class="complete-registration">
                        <img 
                            src="assets/img/svg/completing_re_i7ap.svg"
                            alt="Complete Registration" 
                            width="120px"
                        >
                        <p>Tudo pronto!</p>
                    </div>
                    <div class="row-flex center-horizontal">
                        <button 
                            class="btn btn-lg rounded-lg"
                            color="light"          
                            matStepperPrevious
                            matRipple
                        >REVISAR</button>
                        <button 
                            class="btn btn-lg rounded-lg"
                            color="success"           
                            (click)="createMember.run(formData.run())"
                            [disabled]="!step1.valid || !step2.valid || !step3.valid || !step4.valid"
                            matRipple
                        >
                            <div class="progress-bar" [ngStyle]="{ 'width' : createMember.getProgressDone() }"></div>
                            CONCLUIR CADASTRO
                        </button>
                    </div>
                </mat-step>
                <ng-template matStepperIcon="account">
                    <mat-icon>person</mat-icon>
                </ng-template>
                <ng-template matStepperIcon="contact">
                    <mat-icon>contact_mail</mat-icon>
                </ng-template>
                <ng-template matStepperIcon="group-add">
                    <mat-icon>group_add</mat-icon>
                </ng-template>
                <ng-template matStepperIcon="add-image">
                    <mat-icon>add_photo_alternate</mat-icon>
                </ng-template>
                <ng-template matStepperIcon="done">
                    <mat-icon>done</mat-icon>
                </ng-template>
            </mat-stepper>
        </div>
    </section>
</main>